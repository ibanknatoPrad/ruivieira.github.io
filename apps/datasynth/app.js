(function(e){function t(t){for(var o,r,l=t[0],u=t[1],i=t[2],b=0,s=[];b<l.length;b++)r=l[b],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&s.push(a[r][0]),a[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);d&&d(t);while(s.length)s.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,l=1;l<n.length;l++){var u=n[l];0!==a[u]&&(o=!1)}o&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},c=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/apps/datasynth/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var d=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"416d":function(e,t,n){},"51c4":function(e,t,n){"use strict";n("8f1b")},"8f1b":function(e,t,n){},b937:function(e,t,n){"use strict";n("416d")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=n("cf05"),c=n.n(a),r=Object(o["createElementVNode"])("img",{src:c.a,height:"64"},null,-1),l=Object(o["createTextVNode"])("Generate data"),u=Object(o["createTextVNode"])("Download CSV"),i=Object(o["createTextVNode"])(" If the dataset contains more than two features,"),d=Object(o["createElementVNode"])("br",null,null,-1),b=Object(o["createTextVNode"])("select which pairs to visualise ");function s(e,t,n,a,c,s){var f=Object(o["resolveComponent"])("el-col"),p=Object(o["resolveComponent"])("el-row"),j=Object(o["resolveComponent"])("el-input"),O=Object(o["resolveComponent"])("el-form-item"),m=Object(o["resolveComponent"])("el-input-number"),v=Object(o["resolveComponent"])("cluster-center"),h=Object(o["resolveComponent"])("el-switch"),V=Object(o["resolveComponent"])("el-button"),g=Object(o["resolveComponent"])("el-form"),C=Object(o["resolveComponent"])("info-filled"),w=Object(o["resolveComponent"])("el-icon"),x=Object(o["resolveComponent"])("el-tooltip"),N=Object(o["resolveComponent"])("el-option"),S=Object(o["resolveComponent"])("el-select"),k=Object(o["resolveComponent"])("apexchart");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{span:6},{default:Object(o["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{span:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{ref:"form",model:e.blob,"label-position":"left","label-width":"10rem"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{label:"Number of samples"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:e.blob.nSamples,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.blob.nSamples=t}),size:"mini"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(O,{label:"Number of features"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:e.nFeatures,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.nFeatures=t}),min:2,size:"mini"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(O,{label:"Number of centers"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:e.nCenters,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.nCenters=t}),min:1,size:"mini"},null,8,["modelValue"])]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.centers,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"cluster-center",key:t.id+e.centers.length,"label-width":"0"},[Object(o["createVNode"])(v,{center:t,globalStd:e.globalStd,colour:e.palette[n]},null,8,["center","globalStd","colour"])])})),128)),Object(o["createVNode"])(O,{"label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:e.globalStd,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.globalStd=t}),"active-text":"Global","inactive-text":"Individual"},null,8,["modelValue"])]})),_:1}),e.globalStd?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,label:"Global std of clusters",size:"mini","label-position":"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:e.blob.clusterStd,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.blob.clusterStd=t}),disabled:!e.globalStd},null,8,["modelValue","disabled"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(V,{onClick:e.generate},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["onClick"]),Object(o["createVNode"])(V,{onClick:e.downloadCSV,disabled:null==e.data},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick","disabled"])]})),_:1},8,["model"])]})),_:1})]})),_:1}),Object(o["createVNode"])(f,{span:16,push:1},{default:Object(o["withCtx"])((function(){return[e.nFeatures>2?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{inline:!0,class:"demo-form-inline"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{class:"item",effect:"dark",placement:"bottom"},{content:Object(o["withCtx"])((function(){return[i,d,b]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(w,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(C)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,{label:"X"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(S,{modelValue:e.Xindex,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.Xindex=t}),placeholder:"Select feature",size:"mini"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.nFeatures,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:e,label:"Feature "+e,value:e-1},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(O,{label:"Y"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(S,{modelValue:e.Yindex,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.Yindex=t}),placeholder:"Select feature",size:"mini"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.nFeatures,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:e,label:"Feature "+e,value:e-1},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[e.data?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,width:"100%",type:"scatter",options:e.options,series:e.plotData},null,8,["options","series"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})],64)}var f=n("ade3"),p=(n("b0c0"),n("d81d"),n("99af"),n("b680"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("a15b"),n("2ef0")),j=n.n(p);function O(e,t){return{distribution:"Gaussian",id:e,std:1,features:t}}n("5db7"),n("73d9"),n("25f0");var m=n("faad"),v=n("e2ed"),h=n.n(v),V=function(e){return j.a.range(e).map((function(){return 20*Math.random()-10}))},g=function(e,t,n,o){var a,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=t.length,l=j.a.range(r).map((function(){return V(n)}));a=o?j.a.range(r).map((function(){return m["a"].identity(n,n,c)})):j.a.range(r).map((function(e){return console.log("Using std=".concat(t[e].std," for cluster ").concat(t[e].id)),m["a"].identity(n,n,t[e].std)})),console.log(j.a.range(e));var u=j.a.chunk(j.a.range(e),Math.floor(e/r));u.length>r&&(u[r-1]=j.a.concat(u[r-1],u[r]));var i=j.a.range(r).map((function(e){var t=h()(l[e],a[e].to2DArray()),n=u[e].map((function(){return t.sample()}));return{name:"Cluster ".concat(e+1),data:n}}));return i},C=function(e){var t=j.a.range(e[0].data[0].length).map((function(e){return"feature_".concat(e)}));t.push("cluster"),console.log(t);var n=e.flatMap((function(e,t){return e.data.map((function(e){return e.join(",")+","+t.toString()}))}));return console.log(n),j.a.concat([t.join(",")],n).join("\n")},w=n("4a0c"),x=n("595c"),N=n.n(x),S=Object(o["defineComponent"])({name:"App",components:Object(f["a"])({},w["a"].name,w["a"]),data:function(){return{}},setup:function(){var e=Object(o["ref"])(3),t=Object(o["ref"])(!0),n=Object(o["ref"])({nSamples:100,clusterStd:1,individualStd:[]});n.value.individualStd=j.a.range(e.value+1).map((function(){return 1}));var a=function(e){return N()({colormap:"rainbow",nshades:Math.max(e,9),format:"rgba",alpha:1})},c=Object(o["ref"])(a(e.value)),r={title:{text:"Data"},colors:c.value.map((function(e){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", 0.9)")})),chart:{type:"scatter",animations:{enabled:!1},toolbar:{show:!1},zoom:{enabled:!1}},yaxis:{labels:{formatter:function(e){return"".concat(e.toFixed(2))}}},markers:{fillOpacity:.75}},l=Object(o["ref"])(2),u=Object(o["ref"])(j.a.range(e.value).map((function(e){return O(e,l.value)}))),i=Object(o["ref"])(null),d=Object(o["ref"])(0);console.log(c.value),Object(o["watch"])(e,(function(e,t){if(console.log("Changing number of centers from ".concat(t," to ").concat(e)),u.value=j.a.range(e).map((function(e){return O(e,l.value)})),d.value+=1,e<t)n.value.individualStd=j.a.take(n.value.individualStd,e);else if(e>t){var o=e-t;n.value.individualStd=j.a.concat(n.value.individualStd,j.a.range(o).map((function(){return 1})))}b()})),Object(o["watch"])(l,(function(t,n){console.log("Changing number of features from ".concat(n," to ").concat(t)),u.value=j.a.range(e.value).map((function(e){return O(e,t)})),d.value+=1,b(),f.value=0,p.value=1}));var b=function(){i.value=g(n.value.nSamples,u.value,l.value,t.value,n.value.clusterStd),console.log(i.value)},s=Object(o["computed"])((function(){return console.log("Plot feature ".concat(f.value," vs. ").concat(p.value)),i.value.map((function(e){return{name:e.name,data:e.data.map((function(e){return[e[f.value],e[p.value]]}))}}))})),f=Object(o["ref"])(0),p=Object(o["ref"])(1),m=function(){var e=C(i.value),t=new Blob([e],{type:"text/plain"}),n=document.createEvent("MouseEvents"),o=document.createElement("a");o.download="data.csv",o.href=window.URL.createObjectURL(t),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),n.initEvent("click",!0,!1),o.dispatchEvent(n)};return{blob:n,nCenters:e,nFeatures:l,globalStd:t,updateCenters:d,options:r,data:i,centers:u,generate:b,Xindex:f,Yindex:p,plotData:s,generatePalette:a,palette:c,downloadCSV:m}}});n("51c4");S.render=s;var k=S,_=n("5502"),y=Object(_["a"])({state:{},mutations:{},actions:{},modules:{}}),B=n("7864"),E=(n("7dd6"),n("ae27")),F=n.n(E);Object(o["pushScopeId"])("data-v-8dc7211a");var U=Object(o["createElementVNode"])("span",{class:"info-text"},"Cluster center",-1),z={class:"info-data"};function M(e,t,n,a,c,r){var l=Object(o["resolveComponent"])("el-form-item"),u=Object(o["resolveComponent"])("el-option"),i=Object(o["resolveComponent"])("el-option-group"),d=Object(o["resolveComponent"])("el-select"),b=Object(o["resolveComponent"])("el-input");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"center",style:Object(o["normalizeStyle"])("background-color:rgba(".concat(e.colour[0],",").concat(e.colour[1],",").concat(e.colour[2],",0.15)"))},[Object(o["createVNode"])(l,{"label-width":"0","label-position":"left"},{default:Object(o["withCtx"])((function(){return[U,Object(o["createElementVNode"])("span",z," #"+Object(o["toDisplayString"])(e.center.id+1),1)]})),_:1}),Object(o["createVNode"])(l,{label:"Distribution"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:e.distribution,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.distribution=t}),placeholder:"Select",size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:"Continuous"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:"Gaussian",value:"Gaussian"})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(l,{label:"Std"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{placeholder:"Standard deviation",modelValue:e.std,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.std=t}),disabled:e.globalStd,size:"mini"},null,8,["modelValue","disabled"])]})),_:1})],4)}Object(o["popScopeId"])();var P=Object(o["defineComponent"])({props:{center:Object,globalStd:{type:Boolean,required:!0,default:!0},colour:Object},setup:function(e){var t=Object(o["ref"])("Gaussian"),n=Object(o["toRefs"])(e).center,a=Object(o["computed"])({get:function(){return n.value.std},set:function(e){n.value.std=e}});return{distribution:t,std:a}}});n("b937");P.render=M,P.__scopeId="data-v-8dc7211a";var D=P,G=Object(o["createApp"])(k);G.use(B["a"]),G.use(F.a),G.use(y),G.component("cluster-center",D),G.mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.21be158c.png"}});
//# sourceMappingURL=app.js.map